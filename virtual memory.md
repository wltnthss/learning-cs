## 가상메모리

### 연속 메모리 할당

프로세스에 연속적인 메모리 공간을 할당하는 방식

프로세스를 메모리에 연속적으로 할당할 때 무엇을 고려할지, 어떤 문제가 있는지 확인.

### 스와핑

오랫동안 사용되지 않은 프로세스를 보조기억장치 일부로 옮기고, 

빈 메모리상의 공간에 또 다른 프로세스를 적재하여 실행하는 방식을 스와핑이라고함.

프로세스들이 쫓겨나는 보조기억장치의 일부 영역을 스왑 영역, 

현재 실행되지 않는 프로세스가 스왑 영역으로 옮겨지는 것을 스왑 아웃,

스왑 영역에 있던 프로세스를 메모리로 옮겨오는 것을 스왑 인이라고 함.

![image](https://github.com/wltnthss/learning-cs/assets/60785586/e671b53f-b31e-41de-aa7b-a8753dc757e5)

### 메모리 할당

프로세스는 메모리 내의 빈 공간에 적재되어야하는데, 이 때 빈 공간이 여러 개 있는 케이스 경우 어디에 배치해야될지?

비어 있는 메모리 공간에 프로세스를 연속적으로 할당하는 방식에는 최초 적합, 최적 적합, 최악 적합 세 가지가 있음.

#### 최초 적합 

운영체제가 메모리 내의 빈 공간을 순서대로 검색하다가 적재할 수 있는 공간이 있으면 그 공안에 프로세스를 배치하는 방식.

최초 적합 방식은 프로새스가 적재될 수 있는 공간을 발견하는 즉시 메모리를 할당하는 방식으로 검색을 최소화할 수 있고 빠른 할당이 가능함.

#### 최적 적합

프로세스가 적재될 수 있는 공간 중 작은 공간에 프로세스를 배치하는 방식.

#### 최악 적합

프로세스가 적재될 수 있는 공간 중 가장 큰 공간에 프로세스를 배치하는 방식.

### 외부 단편화

프로세스를 메모리에 연속적으로 배치하는 연속 메모리 할당은 메모리를 효율적으로 사용하는 방법이 아님.

연속 메모리 할당은 외부 단편화라는 문제를 내포하고 있기 때문임.

프로세스들이 메모리에 연속적으로 할당되는 환경에서는 프로세스들이 실행되고 종료하기를 반복하며 빈 공간들이 생김.

빈 공간이지만 그 공간보다 큰 프로세스는 적재하기 어려운 상황이 생기고, 이는 메모리 낭비로 이어지는데 이것을 외부 단편화라고 함.

실제로는 메모리 용량도 크고 적재되는 프로세스도 많아 외부 단편화 문제는 해결해야 될 문제임.

이를 해결할 방법으로는 메모리를 압축하는 방법이 있음. (메모리 조각 모음이라고도 부름)

압축은 여기저기 흩어져 있는 빈 공간들을 하나로 모으는 방식으로 하나의 큰 빈 공간으로 만드는 방법임.

하지만 압축 방식의 단점은 빈 공간들을 하나로 모으는 동안 하던 일을 중지해야 하고, 오버헤드를 야기함.

때문에 이를 해결 할 수 있는 가상 메모리 기법인 페이징 기법을 사용함.




